<!DOCTYPE html>
<html>
<head>
  <title>BTC Candlestick Chart</title>
  <style>
    #chart {
      max-width: 100%;
      height: 500px;
      margin: auto;
    }
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
  </style>
</head>
<body>
  <h2>BTC Candlestick Chart (Thin Candles with Large Data)</h2>
  <div id="chart"></div>

  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <script>
    // Generate dummy large data (30 candles)
    const startTime = 1749861600000;
    let candles = [];
    for (let i = 0; i < 50; i++) {
      let time = startTime + i * 60000; // 1 min intervals
      let open = 105900 + Math.random() * 100;
      let close = open + (Math.random() - 0.5) * 50;
      let high = Math.max(open, close) + Math.random() * 20;
      let low = Math.min(open, close) - Math.random() * 20;
      candles.push({
        x: new Date(time),
        y: [
          parseFloat(open.toFixed(2)),
          parseFloat(high.toFixed(2)),
          parseFloat(low.toFixed(2)),
          parseFloat(close.toFixed(2))
        ]
      });
    }

    const options = {
      chart: {
        type: 'candlestick',
        height: 500,
        toolbar: {
          show: true
        },
        zoom: {
          enabled: true
        }
      },
      plotOptions: {
        candlestick: {
          wick: {
            useFillColor: true
          }
        }
      },
      series: [{
        data: candles
      }],
      xaxis: {
        type: 'datetime'
      },
      yaxis: {
        tooltip: {
          enabled: true
        }
      },
      tooltip: {
        enabled: true,
        shared: true,
        custom: function({ series, seriesIndex, dataPointIndex, w }) {
          const ohlc = w.globals.initialSeries[seriesIndex].data[dataPointIndex].y;
          return `
            <div style="padding:6px">
              <b>O:</b> ${ohlc[0]} <br>
              <b>H:</b> ${ohlc[1]} <br>
              <b>L:</b> ${ohlc[2]} <br>
              <b>C:</b> ${ohlc[3]}
            </div>
          `;
        }
      }
    };

    const chart = new ApexCharts(document.querySelector("#chart"), options);
    chart.render();
  </script>
</body>
</html>
